<!DOCTYPE html><html lang="ko" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Clean Architecture - 시스템 설계" /><meta property="og:locale" content="ko" /><meta name="description" content="프로그래밍 패러다임" /><meta property="og:description" content="프로그래밍 패러다임" /><link rel="canonical" href="https://termsigening97.github.io/posts/clean-architecture/" /><meta property="og:url" content="https://termsigening97.github.io/posts/clean-architecture/" /><meta property="og:site_name" content="Sigening" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-01T12:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Clean Architecture - 시스템 설계" /><meta name="twitter:site" content="@termsigening97" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-03-01T12:00:00+09:00","datePublished":"2022-03-01T12:00:00+09:00","description":"프로그래밍 패러다임","headline":"Clean Architecture - 시스템 설계","mainEntityOfPage":{"@type":"WebPage","@id":"https://termsigening97.github.io/posts/clean-architecture/"},"url":"https://termsigening97.github.io/posts/clean-architecture/"}</script><title>Clean Architecture - 시스템 설계 | Sigening</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Sigening"><meta name="application-name" content="Sigening"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/Profile.jpg " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Sigening</a></div><div class="site-subtitle font-italic">Game Dev</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/termsigening97" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/termsigening97" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['termsigening97','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Clean Architecture - 시스템 설계</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Clean Architecture - 시스템 설계</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/termsigening97">Jun Hwi Gu</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1646103600" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-01 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4217 words"> <em>23 min</em> read</span></div></div></div><div class="post-content"><h2 id="프로그래밍-패러다임"><span class="mr-2">프로그래밍 패러다임</span><a href="#프로그래밍-패러다임" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="구조적-프로그래밍structured-programming"><span class="mr-2">구조적 프로그래밍structured programming</span><a href="#구조적-프로그래밍structured-programming" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>1968년 Edsger Wybe Dijkstra가 발견했으며, 무분별한 점프(goto)는 프로그램 구조에 해롭다는 사실을 제시했고, 이런 점프들을 if/then/else와 do/while/until과 같은 것으로 대체하였다.</p><ul><li>구조적 프로그래밍은 제어흐름의 직접적인 전환에 대해 규칙을 부과한다.</ul><p>구조적 프로그래밍은 프로그래밍에서 반증 가능한 단위를 만들어낼 수 있으며, 그럼으로 인해 기능적 분해를 할 수 있게 해준다. 가장 작은 기능부터 가장 큰 컴포넌트까지 모든 수준에서 소프트웨어는 과학과 같고, 따라서 반증 가능성에 의해 주도된다. 소프트웨어 아키텍트는 모듈, 컴포넌트, 서비스가 쉽게 반증 가능하도록(테스트하기 쉽도록)만들기 위해 노력해야 한다.</p><p>※ 테스트는 어떤 문제가 있다는 것을 알려줄 뿐이지 어떤 문제가 없다는 것을 알려주진 못한다.</p><h3 id="객체-지향-프로그래밍object-oriented-programming"><span class="mr-2">객체 지향 프로그래밍object-oriented programming</span><a href="#객체-지향-프로그래밍object-oriented-programming" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>1966년 Ole Johan Dal과 Kristen Nygaard에 의해 등장했으며, 함수 호출 스택 프레임을 힙으로 옮기면, 함수 호출이 반환된 이후에도 함수에서 선언된 지역 변수가 오랫동안 유지될 수 있음을 발견했고, 이러한 함수가 클래스의 생성자가 되었고, 지역 변수는 인스턴스 변수, 중첩 함수는 메서드가 되었다. 함수 포인터를 특정 규칙에 따라 사용하는 과정을 통해 다형성이 등장하게 되었다.</p><ul><li>객체 지향 프로그래밍은 제어흐름의 간접적인 전환에 대해 규칙을 부과한다.</ul><p>객체지향 프로그래밍이란 다형성을 이용하여 전체 시스템의 모든 소스 코드 의존성에 대한 절대적인 제어 권한을 획득할 수 있는 능력이다. OO를 이용해서 플러그인 아키텍처를 구성할 수 있고, 이를 통해 고수준의 정책을 포함하는 모듈은 저수준의 세부 사항을 포함하는 모듈에 대해 독립성을 보장할 수 있게 된다.</p><h3 id="함수형-프로그래밍functional-programming"><span class="mr-2">함수형 프로그래밍functional programming</span><a href="#함수형-프로그래밍functional-programming" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>위의 두 패러다임보다 먼저 만들어졌으며, 람다 계산법의 연구 결과에 직접적인 영향을 받아 만들어졌다. 람다 계산법의 기초가 되는 개념은 불변성으로, 심볼의 값이 변경되지 않는다는 개념이고, 이는 함수형 언어에서는 할당문이 전혀 없다는 뜻이기도 하다.</p><ul><li>함수형 프로그래밍은 할당문에 대해 규칙을 부과한다.</ul><p>가변 변수는 동시성 프로그래밍(스레드, 프로세스 등) 에서 많은 문제를 일으킨다. 그래서 상태 변화를 일으키는 대신에 지금까지의 모든 트랜잭션을 이어붙이고, 값이 필요할 때는 이 트랜잭션을 전부 처리하는 식으로 할 수 있다.</p><h2 id="solid-원칙"><span class="mr-2">SOLID 원칙</span><a href="#solid-원칙" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>변경이 발생하는 부분을 변경이 발생하지 않는 부분과 분리해야한다. 변경이 발생하는 부분에서의 코드를 가능한 많이 변경이 발생하지 않는 부분으로 이동시켜야 한다는 뜻이다.</p><h3 id="srp-단일-책임-원칙single-responsibility-principle"><span class="mr-2">SRP: 단일 책임 원칙Single Responsibility Principle</span><a href="#srp-단일-책임-원칙single-responsibility-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Conway 법칙에 따른 따름정리: 소프트웨어 시스템이 가질 수 있는 최적의 구조는 시스템을 만드는 조직의 사회적 구조에 커다란 영향을 받는다. 따라서 각 소프트웨어 모듈은 변경의 이유가 하나, 단 하나여야만 한다.</p><p><code class="language-plaintext highlighter-rouge">하나의 모듈은 하나의, 오직 하나의 액터에 대해서만 책임져야 한다.</code> 여기서 액터란 사용자, 이해관계자 등을 의미한다.</p><h3 id="ocp-개방-폐쇄-원칙open-closed-principle"><span class="mr-2">OCP: 개방-폐쇄 원칙Open-Closed Principle</span><a href="#ocp-개방-폐쇄-원칙open-closed-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>기존 코드를 수정하기보다는 반드시 새로운 코드를 추가하는 방식으로 시스템의 행위를 변경할 수 있도록 설계해야만 소프트웨어 시스템을 쉽게 변경할 수 있다.</p><p><code class="language-plaintext highlighter-rouge">소프트웨어 개체artifact는 확장에는 열려 있어야 하고, 변경에는 닫혀 있어야 한다.</code></p><p>다시 말해 소프트웨어의 개체의 행위는 확장할 수 있어야 하지만, 이때 개체를 변경해서는 안된다.</p><h3 id="lsp-리스코프-치환-원칙liskov-substitution-principle"><span class="mr-2">LSP: 리스코프 치환 원칙Liskov Substitution Principle</span><a href="#lsp-리스코프-치환-원칙liskov-substitution-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>하위 타입subtype에 관한 유명한 원칙이며, 상호 대체 가능한 구성요소를 이용해 소프트웨어 시스템을 만들 수 있으려면, 이들 구성요소는 반드시 서로 치환 가능해야 한다는 계약을 반드시 지켜야 한다.</p><p><code class="language-plaintext highlighter-rouge">S 타입의 객체 o1 각각에 대응하는 T타입 객체 o2가 있고, T 타입을 이용해서 정의한 모든 프로그램 P에서 o2의 자리에 o1을 치환하더라도 P의 행위가 변하지 않는다면, S는 T의 하위타입이다.</code></p><h3 id="isp-인터페이스-분리-원칙interface-segregation-principle"><span class="mr-2">ISP: 인터페이스 분리 원칙Interface Segregation Principle</span><a href="#isp-인터페이스-분리-원칙interface-segregation-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>소프트웨어 설계자는 사용하지 않은 것에 의존하지 않아야 한다.</p><h3 id="dip-의존성-역전-원칙dependency-inversion-principle"><span class="mr-2">DIP: 의존성 역전 원칙Dependency Inversion Principle</span><a href="#dip-의존성-역전-원칙dependency-inversion-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>고수준 정책을 구현하는 코드는 저수준 세부사항을 구현하는 코드에 절대로 의존해서는 안 된다. 대신 세부사항이 정책에 의존해야 한다.</p><h2 id="컴포넌트-응집도"><span class="mr-2">컴포넌트 응집도</span><a href="#컴포넌트-응집도" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="rep-재사용릴리스-등가-원칙reuserelease-equivalence-principle"><span class="mr-2">REP: 재사용/릴리스 등가 원칙Reuse/Release Equivalence Principle</span><a href="#rep-재사용릴리스-등가-원칙reuserelease-equivalence-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><code class="language-plaintext highlighter-rouge">재사용 단위는 릴리스 단위와 같다</code></p><p>하나의 컴포넌트로 묶인 클래스와 모듈은 반드시 함께 릴리스 할 수 있어야 한다. 하나의 컴포넌트로 묶인 클래스와 모듈은 버전 번호가 같아야 하며, 동일한 릴리스로 추적 관리되고, 동일한 릴리스 문서에 포함되어야 한다. 컴포넌트는 재사용이 가능해야한다.</p><h3 id="ccp-공통-폐쇄-원칙common-closure-principle"><span class="mr-2">CCP: 공통 폐쇄 원칙Common Closure Principle</span><a href="#ccp-공통-폐쇄-원칙common-closure-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><code class="language-plaintext highlighter-rouge">동일한 이유로 동일한 시점에 변경되는 클래스를 같은 컴포넌트로 묶어라. 서로 다른 시점에 다른 이유로 변경되는 클래스는 다른 컴포넌트로 분리하라</code></p><p>SRP를 컴포넌트 관점에서 다시 쓴 것으로, 단일 컴포넌트는 변경의 이유가 여러 개 있어서는 안 된다. 유지보수성maintainability 은 재사용성보다 훨씬 중요하며, 코드가 반드시 변경되어야 한다면 여러 컴포넌트 도처에서 분산되어 발생되는 것 보다는 차라리 변경 모두가 단일 컴포넌트에서 발생하는 편이 낫다.</p><h3 id="crp-공통-재사용-원칙common-reuse-principle"><span class="mr-2">CRP: 공통 재사용 원칙Common Reuse Principle</span><a href="#crp-공통-재사용-원칙common-reuse-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><code class="language-plaintext highlighter-rouge">컴포넌트 사용자들을 필요하지 않는 것에 의존하게 강요하지 말라</code></p><p>같이 재사용되는 경향이 있는 클래스와 모듈들은 같은 컴포넌트에 포함되어야 한다. 또한, 강하게 결합되지 않은 클래스들을 동일한 컴포넌트에 위치시켜서는 안 된다.</p><p>세 원칙은 서로 상충하며, 이 원칙들이 균형을 이루는 방법을 찾아야 한다. 개발팀이 현재 관심을 기울이는 부분을 충족시키는 위치를 찾아야 하며, 시간이 흐르며 개발팀이 주의를 기울이는 부분 역시 변한다는 사실도 이해해야 한다. 예를들어 프로젝트 초기에는 CCP가 REP보다 중요하다. REP - 재사용성을 위한 그룹 CCP - 유지보수성을 위한 그룹 CRP - 불필요한 릴리스를 피하기 위해 분리하기</p><h2 id="컴포넌트-결합"><span class="mr-2">컴포넌트 결합</span><a href="#컴포넌트-결합" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="adp-의존성-비순환-원칙acyclic-dependencies-principle"><span class="mr-2">ADP: 의존성 비순환 원칙(Acyclic Dependencies Principle)</span><a href="#adp-의존성-비순환-원칙acyclic-dependencies-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><code class="language-plaintext highlighter-rouge">컴포넌트 의존성 그래프에 순환이 있어서는 안된다</code></p><p>개발 환경을 릴리스 가능한 컴포넌트 단위로 분리하면, 컴포넌트는 개별 개발자 또는 단일 개발팀이 책임질 수 있는 작업 단위가 된다. 개발자가 해당 컴포넌트가 동작하도록 만든 후, 해당 컴포넌트를 릴리스하여 다른 개발자가 사용할 수 있도록 만든다. 담당 개발자는 이 컴포넌트에 릴리스 번호를 부여하고, 다른 팀에서 사용할 수 있는 디렉터리로 이동시킨다. 그런 다음 개발자는 자신만의 공간에서 해당 컴포넌트를 지속적으로 수정한다. 나머지 개발자는 릴리스 된 버전을 사용한다.</p><p>컴포넌트가 새로 릴리스되어 사용할 수 있게 되면, 다른 팀에서는 새 릴리스를 당장 적용할지를 결정해야 한다. 새 릴리스가 적용할 준비가 되었다는 판단이 들었을 때 새 릴리스를 사용하기 시작한다. 따라서 어떤 팀도 다른 팀에 좌우되지 않게 된다. 단, 이 작업은 의존성 구조에 순환이 있으면 안된다.</p><p>어느 컴포넌트도 시작해도, 의존성 관계를 따라가면서 최초의 컴포넌트로 되돌아가지 않는다면 된다.</p><h4 id="순환-끊기"><span class="mr-2">순환 끊기</span><a href="#순환-끊기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>컴포넌트 사이의 순환을 끊고 의존성을 DAG로 원상복귀 하는 일은 언제라도 가능하다. 다음 두가지 방법이 있다.</p><ol><li><p>DIP을 적용하여, A-&gt;B(A가 B에 의존적) 일 때 A가 필요로 하는 메서드를 인터페이스로 작성하고 이 인터페이스는 A에 위치시키고, B는 이 인터페이스를 상속시킨다.</p><li><p>A와 B 모두가 의존하는 새로운 컴포넌트를 만들고, 두 컴포넌트가 모두 의존하는 클래스들을 새로운 컴포넌트로 이동시킨다.</p></ol><h4 id="하향식top-down-설계"><span class="mr-2">하향식top-down 설계</span><a href="#하향식top-down-설계" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>컴포넌트 구조는 하향식으로 설계될 수 없다. 컴포넌트는 시스템에서 가장 먼저 설계할 수 있는 대상이 아니며, 오히려 시스템이 성장하고 변경될 때 함께 진화한다. 컴포넌트 의존성 구조와 같이 큰 단위로 분해된 집단을 관찰하면 시스템의 기능적 측면을 컴포넌트가 어떤 식으로돈 표현하리라고 믿을 수 있지만, 이는 컴포넌트 의존성 다이어그램이 가진 속성이 아니다.</p><p>컴포넌트 의존성 다이어그램은 애플리케이션의 기능을 기술하는 일과는 거의 관련이 없다. 오히려 빌드 가능성과 유지보수성을 보여주는 지도와 같다. 그래서 이러한 이유때문에 컴포넌트 구조는 프로젝트 초기에 설계할 수 없다. 빌드하거나 유지보수할 소프트웨어가 없다면 빌드와 유지보수에 관한 지도 또한 필요 없기 때문이다.</p><h3 id="sdp-안정된-의존성-원칙stable-dependencies-principle"><span class="mr-2">SDP: 안정된 의존성 원칙Stable Dependencies Principle</span><a href="#sdp-안정된-의존성-원칙stable-dependencies-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><code class="language-plaintext highlighter-rouge">안정성의 방향으로(더 안정된 쪽에) 의존하라</code></p><p>설계는 결코 정적일 수 없기 때문에, 공통 폐쇄 원칙을 준수함으로써 컴포넌트가 다른 유형의 변경에는 영향받지 않으면서도 특정 유형의 변경에만 민감하게 만들 수 있다. 이처럼 컴포넌트의 일부는 변동성을 지니도록 설계된다.</p><p>안정성을 평가하는 방법은 Fan-in을 안으로 들어오는 의존성의 개수, Fan-out을 밖으로 나가는 의존성의 개수라고 하자. 이 때 개수의 단위는 클래스 개수이다. 그럼 불안정성 I는 <code class="language-plaintext highlighter-rouge">I = Fan-out / (Fan-in + Fan-out)</code> 라는 식으로 계산할 수 있으며 이 지표는 [0, 1] 범위의 값을 가지며 I가 0이면 최고로 안정된 컴포넌트라고 할 수 있다. 왜냐면 많은 컴포넌트가 하나의 컴포넌트를 의존하고 있을 수록 그 컴포넌트를 변경하기 힘들기 때문이다. SDP에서 컴포넌트의 I지표는 그 컴포넌트가 의존하는 다른 컴포넌트들의 I보다 커야한다.</p><p>하지만 모든 컴포넌트가 안정적이어야 하는 것은 아니란 것을 염두하자.</p><h3 id="sap-안정된-추상화-원칙stable-abstractions-principle"><span class="mr-2">SAP: 안정된 추상화 원칙Stable Abstractions Principle</span><a href="#sap-안정된-추상화-원칙stable-abstractions-principle" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><code class="language-plaintext highlighter-rouge">컴포넌트는 안정된 정도만큼만 추상화되어야 한다</code></p><p>고수준 정책을 캡슐화하는 소프트웨어는 반드시 안정된 (I=0) 컴포넌트에 위치해야 하고, 불안정한 컴포넌트는 반드시 변동성이 큰 소프트웨어만을 포함해야 한다. 하지만 고수준이 안정된 컴포넌트에 위치되면 수정하기가 힘드므로, OCP 원칙에 따라 추상 클래스로 만들어야 한다.</p><p>SAP는 안정성과 추상화 정도 사이의 관계를 정의하며, 안정된 컴포넌트는 추상 컴포넌트여야 하며, 이를 통해 안정성이 컴포넌트를 확장하는 이을 방해해서는 안된다고 한다. 또한, 불안정한 컴포넌트는 반드시 구체 컴포넌트여야 한다고 말하는데, 컴포넌트가 불안정하므로 컴포넌트 내부의 구체적인 코드를 쉽게 변경할 수 있어야 하기 때문이다.</p><p>SAP와 SDP를 결합하면 컴포넌트에 대한 DIP가 아닌가하고 생각할 수 있지만, 컴포넌트는 클래스와 다르게 부분적으로만 추상적일 수 있다.</p><h2 id="아키텍처"><span class="mr-2">아키텍처</span><a href="#아키텍처" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="독립성"><span class="mr-2">독립성</span><a href="#독립성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>좋은 아키텍처는 다음을 지원해야 한다.</p><h4 id="유스케이스"><span class="mr-2">유스케이스</span><a href="#유스케이스" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>시스템의 아키텍처는 시스템의 의도를 지원해야 한다. 아키텍처는 시스템의 행위에 그다지 큰 영향을 주지 않지만, 행위를 명확히 하고 외부로 드러내며 시스템이 지닌 의도를 아키텍처 수준에서 알아볼 수 있게 만들어야 한다.</p><h4 id="운영"><span class="mr-2">운영</span><a href="#운영" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>어떤 과제가 있을 때, 이 과제를 해결할 수 있으면서 개선이 용이하도록 설계해야한다. 아키텍처에서 각 컴포넌트를 적절히 격리하여 유지하고 컴포넌트 간 통신 방식을 특정 형태로 제한하지 않는다면 시간이 지나 운영에 필요한 요구사항이 바뀌더라도 기술 스펙트럼 사이를 전환하는 일이 훨씬 쉬워질 것이다.</p><h4 id="개발"><span class="mr-2">개발</span><a href="#개발" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>Conway의 법칙 “시스템을 설계하는 조직이라면 어디든지 그 조직의 의사소통 구조와 동일한 구조의 설계를 만들어 낼 것이다” 많은 팀으로 구성되며 관심사가 다양한 조직에서 어떤 시스템을 개발해야 한다면 잘 격리되어 독립적으로 개발 가능한 컴포넌트 단위로 시스템을 분할할 수 있어야 한다.</p><h4 id="배포"><span class="mr-2">배포</span><a href="#배포" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4></h4><p>아키텍처는 ‘즉각적인 배포’를 목표로 설계해야하며, 시스템이 빌드된 후 즉각 배포할 수 있도록 지원해야 한다. 이를 위해서도 시스템을 컴포넌트 단위로 적절하게 분할, 격리해야 하며 마스터 컴포넌트로 시스템 전체를 하나로 묶고, 각 컴포넌트를 올바르게 구동하고 통합하고 관리해야 한다.</p><p>// To-Do: 이후 추가 작성</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/lecture/'>Lecture</a>, <a href='/categories/basic/'>Basic</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/architect/" class="post-tag no-text-decoration" >Architect</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Clean Architecture - 시스템 설계 - Sigening&amp;url=https://termsigening97.github.io/posts/clean-architecture/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Clean Architecture - 시스템 설계 - Sigening&amp;u=https://termsigening97.github.io/posts/clean-architecture/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://termsigening97.github.io/posts/clean-architecture/&amp;text=Clean Architecture - 시스템 설계 - Sigening" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/unity-optimization/">유니티 그래픽스 최적화</a><li><a href="/posts/Scraps/">지식 스크랩</a><li><a href="/posts/data-structure-and-algorithms/">자료구조와 알고리즘</a><li><a href="/posts/C-lecture/">C언어 총정리</a><li><a href="/posts/game-design/">게임 디자인</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/boj/">BOJ</a> <a class="post-tag" href="/tags/cpp/">CPP</a> <a class="post-tag" href="/tags/essence/">Essence</a> <a class="post-tag" href="/tags/game-design/">Game Design</a> <a class="post-tag" href="/tags/architect/">Architect</a> <a class="post-tag" href="/tags/optimize/">Optimize</a> <a class="post-tag" href="/tags/other/">Other</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/CPP-STL-Vector/"><div class="card-body"> <em class="timeago small" data-ts="1606492920" > 2020-11-28 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[C++ STL] 벡터(Vector)</h3><div class="text-muted small"><p> 벡터(Vector)는 STL에서 컨테이너에 속합니다. 컨테이너는 같은 타입을 저장, 관리하기 위해 만들어진 클래스입니다. 그 중 벡터는 표준 시퀀스 컨테이너(Standard Sequence Container) 에 속하는데, 자신만의 삽입 순서를 가지는 컨테이너라는 뜻입니다. 무슨 말이냐면, 배열처럼 삽입되는 순서에 따라 원소의 위치가 결정되고 바뀌지 ...</p></div></div></a></div><div class="card"> <a href="/posts/CPP-STL-Deque/"><div class="card-body"> <em class="timeago small" data-ts="1608730620" > 2020-12-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[C++ STL] 덱(Deque)</h3><div class="text-muted small"><p> [!] 덱은 벡터와 거의 유사하기 때문에, 글을 읽기 전에 이곳을 눌러 벡터의 게시글을 먼저 읽고 오시는 것을 추천합니다.  덱(Deque)은 벡터와 같은 시퀀스 컨테이너이고, 배열 기반 컨테이너입니다. 또, 대부분의 기능이 벡터와 동일하지만, 벡터의 단점들을 보완한 컨테이너입니다. 벡터(Vector) 글의 마지막을 보면, 벡터는 벡터의 크기보다 많...</p></div></div></a></div><div class="card"> <a href="/posts/CPP-STL-List/"><div class="card-body"> <em class="timeago small" data-ts="1609477920" > 2021-01-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[C++ STL] 리스트(List)</h3><div class="text-muted small"><p> 리스트(List)는 시퀀스 컨테이너 중, “이중 연결 리스트” 라는 자료구조를 사용하는 노드 기반 컨테이너로 벡터(Vector)나 덱(Deque)와는 다른 성질을 가집니다. 리스트를 완전히 이해하기 위해서는, 이중 연결 리스트와 반복자를 먼저 공부해야 합니다. list_ex01.cpp #include &amp;lt;iostream&amp;gt; #incl...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/C-to-CPP/" class="btn btn-outline-primary" prompt="Older"><p>C대신 C++로 알고리즘 풀기</p></a> <a href="/posts/BOJ-10157/" class="btn btn-outline-primary" prompt="Newer"><p>[BOJ] 10157 자리배정</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "termsigening97/termsigening97.github.io", "data-repo-id": "R_kgDOG6QKqw", "data-category": "Announcements", "data-category-id": "DIC_kwDOG6QKq84CBWWc", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "top", "data-lang": "en", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/termsigening97">Jun Hwi Gu</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/boj/">BOJ</a> <a class="post-tag" href="/tags/cpp/">CPP</a> <a class="post-tag" href="/tags/essence/">Essence</a> <a class="post-tag" href="/tags/game-design/">Game Design</a> <a class="post-tag" href="/tags/architect/">Architect</a> <a class="post-tag" href="/tags/optimize/">Optimize</a> <a class="post-tag" href="/tags/other/">Other</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
